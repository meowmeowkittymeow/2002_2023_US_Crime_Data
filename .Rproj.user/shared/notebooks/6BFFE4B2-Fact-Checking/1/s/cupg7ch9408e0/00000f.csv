"0","#| label: Tidying 2020 Large City Data"
"0",""
"0","Reported_Murders_Large_Cities_2020_Path <- here(""Data_Raw"", ""Table_8_Offenses_Known_to_Law_Enforcement_by_State_by_City_2020.xlsx"")"
"0",""
"0","Reported_Murders_Large_Cities_2020 <- read_excel(Reported_Murders_Large_Cities_2020_Path)"
"2","New names:"
"0","# Extracting all column values"
"0","Reported_Murders_Large_Cities_2020_Columns <- as.character(Reported_Murders_Large_Cities_2020[5, ])"
"0",""
"0","# Assigning column names to columns"
"0","colnames(Reported_Murders_Large_Cities_2020) <- Reported_Murders_Large_Cities_2020_Columns"
"0",""
"0","# Removing headers and notes"
"0","Reported_Murders_Large_Cities_2020 <- Reported_Murders_Large_Cities_2020[-c(1:5, 7695:7703), ]"
"0",""
"0","# Filtering"
"0","Reported_Murders_Large_Cities_2020 <- Reported_Murders_Large_Cities_2020 |>"
"0","  mutate("
"0","    Population_2020 = as.numeric(Population),"
"0","    `Murder and nonnegligent manslaughter` = as.numeric(`Murder and nonnegligent manslaughter`)"
"0","  ) |>"
"0","  select(City, Population_2020, `Murder and nonnegligent manslaughter`) |>"
"0","  rename(Murders_2020 = `Murder and nonnegligent manslaughter`)"
"0",""
"0","# Calculate the Murder Rate using the renamed column"
"0","Reported_Murders_Large_Cities_2020 <- Reported_Murders_Large_Cities_2020 |>"
"0","  # If there is no data on murders or it equals 0, do not calculate murder rate. Otherwise,"
"0","  # calculate murder rate."
"0","  mutate(Murder_Rate_2020 = ifelse(Murders_2020 == 0, NA, (Murders_2020 / Population_2020) * 100000))"
