"0","#| label: Binding 2001-2023 dataframes"
"0","#| message: false"
"0",""
"0","# Using gsub to find \r\n or \n in the variable names and removing them. This standardizes"
"0","# the names, as the Windows-style and Unix-style line breaks are inconsistent between"
"0","# the two frames:"
"0","colnames(CIUS_2001_2002) <- gsub(""\r\n|\n"", """", colnames(CIUS_2001_2002))"
"0","colnames(CIUS_2003) <- gsub(""\r\n|\n"", """", colnames(CIUS_2003))"
"0","colnames(CIUS_2004_2023) <- gsub(""\r\n|\n"", """", colnames(CIUS_2004_2023))"
"0",""
"0","# Tidying 2001-2002 variable names"
"0","CIUS_2001_2002 <- CIUS_2001_2002 |>"
"0","  select(Year, Population1, Violentcrime2, `Violent crime rate`, `Murder andnonnegligent manslaughter`,"
"0","         `Murder and nonnegligent manslaughter rate`, `Property crime`, `Property crime rate`) |>"
"0","  rename("
"0","    Population = Population1,"
"0","    Violent_Crimes = Violentcrime2,"
"0","    Violent_Crime_Rate = `Violent crime rate`,"
"0","    Murders = `Murder andnonnegligent manslaughter`,"
"0","    Murder_Rate = `Murder and nonnegligent manslaughter rate`,"
"0","    Property_Crimes = `Property crime`,"
"0","    Property_Crime_Rate = `Property crime rate`"
"0","  )"
"0",""
"0","# Tidying 2003 to match 2001-2002 variable names"
"0","CIUS_2003 <- CIUS_2003 |>"
"0","  select(Year, Population1, Violentcrime2, `Violent crime rate`, `Murder andnonnegligent manslaughter`,"
"0","         `Murder and nonnegligent manslaughter rate`, `Property crime`, `Property crime rate`) |>"
"0","  rename("
"0","    Population = Population1,"
"0","    Violent_Crimes = Violentcrime2,"
"0","    Violent_Crime_Rate = `Violent crime rate`,"
"0","    Murders = `Murder andnonnegligent manslaughter`,"
"0","    Murder_Rate = `Murder and nonnegligent manslaughter rate`,"
"0","    Property_Crimes = `Property crime`,"
"0","    Property_Crime_Rate = `Property crime rate`"
"0","  )"
"0",""
"0","# Tidying 2004-2023 to match 2001-2003 variable names"
"0","CIUS_2004_2023 <- CIUS_2004_2023 |>"
"0","  select(Year, Population2, Violentcrime3, `Violent crime rate`, `Murder andnonnegligent manslaughter`,"
"0","         `Murder and nonnegligent manslaughter rate`, `Property crime`, `Property crime rate`) |>"
"0","  rename("
"0","    Population = Population2,"
"0","    Violent_Crimes = Violentcrime3,"
"0","    Violent_Crime_Rate = `Violent crime rate`,"
"0","    Murders = `Murder andnonnegligent manslaughter`,"
"0","    Murder_Rate = `Murder and nonnegligent manslaughter rate`,"
"0","    Property_Crimes = `Property crime`,"
"0","    Property_Crime_Rate = `Property crime rate`"
"0","  )"
"0",""
"0","# Binding all three data frames:"
"0","CIUS_2001_2023 <- rbind(CIUS_2001_2002, CIUS_2003, CIUS_2004_2023) |>"
"0","  select(Year, Population, Violent_Crimes, Murders, Property_Crimes)"
