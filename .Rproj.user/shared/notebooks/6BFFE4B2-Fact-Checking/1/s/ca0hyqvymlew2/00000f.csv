"0","#| label: Tidying 2023 All City Data"
"0","#| message: false"
"0",""
"0","Reported_Murders_All_Cities_2023_Path <- here(""Data_Raw"", ""Table_8_Offenses_Known_to_Law_Enforcement_by_State_by_City_2023.xlsx"")"
"0",""
"0","Reported_Murders_All_Cities_2023 <- read_excel(Reported_Murders_All_Cities_2023_Path)"
"0",""
"0","# Extracting all column values"
"0","Reported_Murders_All_Cities_2023_Columns <- as.character(Reported_Murders_All_Cities_2023[3, ])"
"0",""
"0","# Assigning column names to columns"
"0","colnames(Reported_Murders_All_Cities_2023) <- Reported_Murders_All_Cities_2023_Columns"
"0",""
"0","# Removing headers and column names"
"0","Reported_Murders_All_Cities_2023 <- Reported_Murders_All_Cities_2023[-c(1:3, 8369:8370), ]"
"0",""
"0","# Filtering"
"0","Reported_Murders_All_Cities_2023 <- Reported_Murders_All_Cities_2023 |>"
"0","  mutate(Population_2023 = as.numeric(Population),"
"0","    `Murder and\r\nnonnegligent\r\nmanslaughter` = as.numeric(`Murder and\r\nnonnegligent\r\nmanslaughter`)"
"0","  )"
"0",""
"0","# Pulling 2023 NYC population to use later"
"0","NYC_Population_2023 <- Reported_Murders_All_Cities_2023 |>"
"0","  filter(City == ""New York"") |>"
"0","  pull(Population_2023)"
"0",""
"0","Reported_Murders_All_Cities_2023 <- Reported_Murders_All_Cities_2023 |>"
"0","  select(City, Population_2023, `Murder and\r\nnonnegligent\r\nmanslaughter`) |>"
"0","  rename(Murders_2023 = `Murder and\r\nnonnegligent\r\nmanslaughter`)"
"0",""
"0","# Calculate the Murder rates"
"0","Reported_Murders_All_Cities_2023 <- Reported_Murders_All_Cities_2023 |>"
"0","  drop_na() |>"
"0","  mutate(Murder_Rate_2023 = (Murders_2023 / Population_2023))"
